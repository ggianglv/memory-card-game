{"version":3,"sources":["reducers/actions.js","utils/data.js","constants/index.js","context/index.js","components/Card.js","services/game.js","components/Board.js","components/Menu.js","components/Title.js","components/Modal.js","reducers/index.js","App.js","reportWebVitals.js","index.js"],"names":["SET_MODE","UPDATE_TIME","UPDATE_MOVE","UPDATE_DATA","UPDATE_START","UPDATE_TOPIC","UPDATE_REMOVED","randomNumber","max","Math","floor","random","generateGameData","mode","topic","cards","Array","map","_","index","arrayImages","clonedCards","cardData","length","splice","first","second","image","shift","imageUrl","start","removed","move","time","usePrevious","value","ref","useRef","useEffect","current","formatTime","duration","hrs","mins","secs","ret","uuidv4","replace","c","r","toString","LEVEL","EASY","MEDIUM","HARD","TOPICS","PEPE","RICK","AppContext","React","createContext","Card","cardIndex","setActive","active","styles","backgroundImage","backgroundRepeat","backgroundPosition","backgroundColor","className","onClick","data-testid","style","API_PREFIX","process","saveGame","data","savedId","userId","localStorage","getItem","method","url","fetch","headers","redirect","referrerPolicy","body","JSON","stringify","id","Board","useState","selected","setSelected","useContext","state","dispatch","previousStart","timeoutId","intervalId","setInterval","type","clearInterval","clearTimeout","maxHeight","a","payload","Object","keys","nextSelected","indexs","isFull","isMatch","setTimeout","nextRemoved","Menu","openModal","title","component","lazy","Title","Modal","onClickClose","children","initData","initialState","isLoading","complete","history","appReducer","action","setItem","App","useReducer","ModalComponent","setModalComponent","modalTitle","setModalTitle","then","res","json","user","catch","err","console","log","contextValue","useMemo","Provider","fallback","closeModal","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.31ac4076.chunk.js","sourcesContent":["export const SET_MODE = \"SET_MODE\";\nexport const UPDATE_TIME = \"UPDATE_TIME\";\nexport const UPDATE_MOVE = \"UPDATE_MOVE\";\nexport const UPDATE_DATA = \"SET_INIT_DATA\";\nexport const UPDATE_START = \"UPDATE_START\";\nexport const UPDATE_TOPIC = \"UPDATE_TOPIC\";\nexport const UPDATE_REMOVED = \"UPDATE_REMOVED\";\n","import { useRef, useEffect } from \"react\";\n\nconst randomNumber = (max) => {\n  if (max === 0) {\n    return 0;\n  }\n  return Math.floor(Math.random() * max + 1);\n};\n\nexport const generateGameData = ({ mode, topic }) => {\n  const cards = [...Array(mode)].map((_, index) => index + 1);\n  const arrayImages = [...Array(12)].map((_, index) => index + 1);\n  const clonedCards = [...cards];\n  const cardData = {};\n  while (clonedCards.length) {\n    const [first] = clonedCards.splice(randomNumber(clonedCards.length - 1), 1);\n    const [second] = clonedCards.splice(\n      randomNumber(clonedCards.length - 1),\n      1\n    );\n    const image = arrayImages.shift();\n    const imageUrl = `/images/${topic}/${image}.png`;\n    cardData[first] = imageUrl;\n    cardData[second] = imageUrl;\n  }\n\n  return {\n    cards,\n    cardData,\n    start: false,\n    removed: {},\n    move: 0,\n    time: 0,\n  };\n};\n\nexport const usePrevious = (value) => {\n  const ref = useRef(value);\n  useEffect(() => {\n    ref.current = value;\n  }, [value]); // Only re-run if value changes\n\n  return ref.current;\n};\n\nexport const formatTime = (duration) => {\n  const hrs = ~~(duration / 3600);\n  const mins = ~~((duration % 3600) / 60);\n  const secs = ~~duration % 60;\n\n  let ret = \"\";\n\n  if (hrs > 0) {\n    ret += \"\" + hrs + \":\" + (mins < 10 ? \"0\" : \"\");\n  }\n\n  ret += \"\" + mins + \":\" + (secs < 10 ? \"0\" : \"\");\n  ret += \"\" + secs;\n\n  return ret;\n};\n\nexport const uuidv4 = () => {\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n    const r = (Math.random() * 16) | 0,\n      v = c === \"x\" ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n};\n\n","export const LEVEL = {\n  EASY: 16,\n  MEDIUM: 20,\n  HARD: 24,\n};\n\nexport const TOPICS = {\n  PEPE: \"pepe\",\n  RICK: \"rick-and-morty\",\n};\n","import React from \"react\";\n\nexport const AppContext = React.createContext({});\n","import React from \"react\";\n\nimport \"../styles/card.css\";\nconst Card = ({ image, cardIndex, setActive, active, removed }) => {\n  const styles = {\n    backgroundImage: `url(${image})`,\n    backgroundRepeat: \"no-repeat\",\n    backgroundPosition: \"center\",\n    backgroundColor: \"#dddddd\",\n  };\n\n  let className = \"flip-card\";\n  if (active || removed) {\n    className += \" flip-card-active\";\n  }\n\n  const onCardClick = () => {\n    if (removed) {\n      return;\n    }\n    setActive(cardIndex);\n  };\n\n  return (\n    <div onClick={onCardClick} className={className}>\n      <div className=\"flip-card-inner\">\n        <div className=\"flip-card-front\" />\n        <div data-testid=\"image\" style={styles} className=\"flip-card-back\" />\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","const API_PREFIX = process.env.REACT_APP_API_PREFIX;\n\nexport const saveGame = (data, savedId) => {\n  const userId = localStorage.getItem(\"userId\");\n  let method = \"POST\";\n  let url = `${API_PREFIX}/users`;\n  if (savedId) {\n    method = \"PUT\";\n    url = `${API_PREFIX}/users/${savedId}`;\n  }\n\n  return fetch(url, {\n    method: method,\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    redirect: \"follow\",\n    referrerPolicy: \"no-referrer\",\n    body: JSON.stringify({ ...data, id: userId }),\n  });\n};\n\nexport const getUser = (userId) => {\n  return fetch(`${API_PREFIX}/users/${userId}`).then((res) => res.json());\n};\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport \"../styles/board.css\";\nimport Card from \"./Card\";\nimport { AppContext } from \"../context\";\nimport { LEVEL } from \"../constants\";\nimport { usePrevious } from \"../utils/data\";\nimport { saveGame } from \"../services/game\";\nimport {\n  UPDATE_DATA,\n  UPDATE_MOVE,\n  UPDATE_START,\n  UPDATE_TIME,\n} from \"../reducers/actions\";\n\nconst Board = () => {\n  const [selected, setSelected] = useState({});\n  const { state, dispatch } = useContext(AppContext);\n  const previousStart = usePrevious(state.start);\n  const { start, cards, cardData } = state;\n  const timeoutId = useRef(null);\n  const intervalId = useRef(null);\n\n  useEffect(() => {\n    if (previousStart === false && state.start === true) {\n      intervalId.current = setInterval(() => {\n        dispatch({\n          type: UPDATE_TIME,\n        });\n      }, 1000);\n    }\n\n    if (previousStart === true && state.start === false) {\n      clearInterval(intervalId.current);\n      setSelected({});\n    }\n  }, [state.start, previousStart, dispatch]);\n\n  useEffect(() => {\n    return () => {\n      clearTimeout(timeoutId.current);\n    };\n  }, []);\n\n  const mapHeight = {\n    [LEVEL.EASY]: 400,\n    [LEVEL.MEDIUM]: 500,\n    [LEVEL.HARD]: 600,\n  };\n  const styles = {\n    maxHeight: mapHeight[state.mode],\n    backgroundImage: `url(/images/${state.topic}.png)`,\n  };\n\n  const setActive = async (cardIndex) => {\n    if (!start) {\n      dispatch({ type: UPDATE_START, payload: true });\n    }\n\n    if (Object.keys(selected).length === 0) {\n      dispatch({\n        type: UPDATE_MOVE,\n        payload: state.move + 1,\n      });\n    }\n\n    if (Object.keys(selected).length === 2) {\n      return;\n    }\n    const nextSelected = {\n      ...selected,\n      [cardIndex]: true,\n    };\n\n    setSelected(nextSelected);\n    const indexs = Object.keys(nextSelected);\n    const isFull = indexs.length === 2;\n    const isMatch = cardData[indexs[0]] === cardData[indexs[1]];\n    if (isFull && !isMatch) {\n      timeoutId.current = setTimeout(() => {\n        setSelected({});\n      }, 1000);\n    }\n\n    if (isFull && isMatch) {\n      timeoutId.current = setTimeout(() => {\n        setSelected({});\n      }, 1000);\n      const nextRemoved = {\n        ...state.removed,\n        [indexs[0]]: true,\n        [indexs[1]]: true,\n      };\n      saveGame(\n        {\n          ...state,\n          removed: nextRemoved,\n        },\n        state.id\n      );\n      dispatch({\n        type: UPDATE_DATA,\n        payload: { removed: nextRemoved, id: localStorage.getItem(\"userId\") },\n      });\n    }\n  };\n\n  return (\n    <div style={styles} className=\"board\">\n      {cards.map((cardIndex) => (\n        <Card\n          removed={state.removed[cardIndex]}\n          active={selected[cardIndex]}\n          image={cardData[cardIndex]}\n          selected={selected}\n          cardIndex={cardIndex}\n          setActive={setActive}\n          key={cardIndex}\n        />\n      ))}\n    </div>\n  );\n};\n\nBoard.propTypes = {\n  cards: PropTypes.number,\n};\n\nexport default Board;\n","import React, { lazy, useContext } from \"react\";\nimport \"../styles/menu.css\";\nimport { AppContext } from \"../context\";\nimport { formatTime } from \"../utils/data\";\n\nconst Menu = ({ openModal }) => {\n  const { state } = useContext(AppContext);\n\n  const openHistoryModal = () => {\n    openModal({\n      title: \"History\",\n      component: lazy(() => import(\"../components/History\")),\n    });\n  };\n\n  const openNewGameModal = () => {\n    openModal({\n      title: \"New Game\",\n      component: lazy(() => import(\"../components/NewGame\")),\n    });\n  };\n\n  const openTopicModal = () => {\n    openModal({\n      title: \"Choose topic\",\n      component: lazy(() => import(\"../components/Topic\")),\n    });\n  };\n\n  return (\n    <div className=\"menu\">\n      <div className=\"item\">\n        <div className=\"item-wrap\">\n          <div className=\"label\">Move: </div>\n          <div className=\"value\">{state.move}</div>\n        </div>\n      </div>\n\n      <div className=\"item\">\n        <div className=\"item-wrap\">\n          <div className=\"label\">Time: </div>\n          <div className=\"value\">{formatTime(state.time)}</div>\n        </div>\n      </div>\n\n      <div className=\"item\">\n        <button onClick={openTopicModal} className=\"custom-button\">\n          Topic\n        </button>\n      </div>\n\n      <div className=\"item\">\n        <button onClick={openHistoryModal} className=\"custom-button\">\n          History\n        </button>\n      </div>\n\n      <div className=\"item\">\n        <button onClick={openNewGameModal} className=\"custom-button\">\n          New game\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Menu;\n","import React from 'react';\n\nconst Title = () => {\n  return (\n    <h3 className=\"title\">\n      Memory Card game\n    </h3>\n  );\n};\n\nexport default Title;\n","import React from \"react\";\nimport \"../styles/modal.css\";\n\nconst Modal = ({ onClickClose, children, title }) => {\n  return (\n    <div className=\"modal show\">\n      <div className=\"modal-content\">\n        <div data-testid=\"title\" className=\"modal-title\">{title}</div>\n\n        <div data-testid=\"children\" className=\"content-body\">{children}</div>\n\n        <div className=\"content-footer\">\n          <div onClick={onClickClose} className=\"close-button\">\n            Close\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import { LEVEL, TOPICS } from \"../constants\";\nimport {\n  UPDATE_DATA,\n  SET_MODE,\n  UPDATE_MOVE,\n  UPDATE_REMOVED,\n  UPDATE_START,\n  UPDATE_TIME,\n  UPDATE_TOPIC,\n} from \"./actions\";\nimport { generateGameData } from \"../utils/data\";\n\nconst initData = generateGameData({ topic: TOPICS.RICK, mode: LEVEL.EASY });\n\nexport const initialState = {\n  move: 0,\n  removed: {},\n  time: 0,\n  start: false,\n  topic: TOPICS.RICK,\n  mode: LEVEL.EASY,\n  isLoading: false,\n  complete: false,\n  history: [],\n  ...initData,\n};\n\nexport const appReducer = (state, action) => {\n  switch (action.type) {\n    case SET_MODE:\n      const data = generateGameData({\n        topic: state.topic,\n        mode: action.payload,\n      });\n      return {\n        ...state,\n        ...data,\n        mode: action.payload,\n      };\n    case UPDATE_DATA:\n      return {\n        ...state,\n        ...action.payload,\n      };\n    case UPDATE_START:\n      return {\n        ...state,\n        start: action.payload,\n      };\n\n    case UPDATE_MOVE:\n      return {\n        ...state,\n        move: action.payload,\n      };\n    case UPDATE_TIME:\n      return {\n        ...state,\n        time: state.time + 1,\n      };\n    case UPDATE_REMOVED:\n      return {\n        ...state,\n        removed: action.payload,\n      };\n    case UPDATE_TOPIC: {\n      const data = generateGameData({\n        topic: action.payload,\n        mode: state.mode,\n      });\n      return {\n        ...state,\n        ...data,\n        topic: action.payload,\n        start: false,\n        time: 0,\n        move: 0,\n      };\n    }\n    default:\n      return state;\n  }\n};\n","import React, {\n  useReducer,\n  useState,\n  Suspense,\n  useMemo,\n  useEffect,\n} from \"react\";\nimport Board from \"./components/Board\";\nimport \"./App.css\";\nimport Menu from \"./components/Menu\";\nimport Title from \"./components/Title\";\nimport Modal from \"./components/Modal\";\nimport { appReducer, initialState } from \"./reducers\";\nimport { AppContext } from \"./context\";\nimport { uuidv4 } from \"./utils/data\";\nimport { getUser } from \"./services/game\";\nimport { UPDATE_DATA } from \"./reducers/actions\";\n\nlet userId = localStorage.getItem(\"userId\");\nif (!userId) {\n  userId = uuidv4();\n  localStorage.setItem(\"userId\", userId);\n}\n\nfunction App() {\n  const [state, dispatch] = useReducer(appReducer, initialState);\n  const [ModalComponent, setModalComponent] = useState(null);\n  const [modalTitle, setModalTitle] = useState(\"\");\n\n  useEffect(() => {\n    getUser(userId)\n      .then((user) => {\n        if (user.complete) {\n          return dispatch({\n            type: UPDATE_DATA,\n            payload: { id: user.id, history: user.history },\n          });\n        }\n\n        dispatch({\n          type: UPDATE_DATA,\n          payload: user,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [dispatch]);\n\n  const openModal = ({ title, component }) => {\n    setModalTitle(title);\n    setModalComponent(component);\n  };\n\n  const closeModal = () => {\n    setModalTitle(\"\");\n    setModalComponent(null);\n  };\n\n  const onCloseModal = () => {\n    setModalComponent(null);\n  };\n\n  const contextValue = useMemo(() => {\n    return {\n      state,\n      dispatch,\n    };\n  }, [dispatch, state]);\n\n  return (\n    <AppContext.Provider value={contextValue}>\n      <div className=\"app\">\n        <div className=\"container\">\n          <Title />\n          <Board openModal={openModal} />\n          <Menu openModal={openModal} />\n\n          {ModalComponent && (\n            <Modal title={modalTitle} onClickClose={onCloseModal}>\n              <Suspense fallback={null}>\n                <ModalComponent closeModal={closeModal} />\n              </Suspense>\n            </Modal>\n          )}\n        </div>\n      </div>\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}